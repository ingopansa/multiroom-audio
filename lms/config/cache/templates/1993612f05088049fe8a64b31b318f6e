use utf8;

#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.21
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1607340006',
        'name' => '/config/cache/InstalledPlugins/Plugins/RaopBridge/HTML/EN/plugins/RaopBridge/userguide.htm',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
    $output .=  "<html>\n\n<head>\n<meta http-equiv=Content-Type content=\"text/html; charset=unicode\">\n<meta name=Generator content=\"Microsoft Word 15 (filtered)\">\n<style>\n<!--\n /* Font Definitions */\n \@font-face\n	{font-family:\"Cambria Math\";\n	panose-1:2 4 5 3 5 4 6 3 2 4;}\n\@font-face\n	{font-family:\"Calibri Light\";\n	panose-1:2 15 3 2 2 2 4 3 2 4;}\n\@font-face\n	{font-family:Verdana;\n	panose-1:2 11 6 4 3 5 4 4 2 4;}\n\@font-face\n	{font-family:\"Liberation Sans\";}\n /* Style Definitions */\n p.MsoNormal, li.MsoNormal, div.MsoNormal\n	{margin-top:0cm;\n	margin-right:0cm;\n	margin-bottom:10.0pt;\n	margin-left:0cm;\n	font-size:12.0pt;\n	font-family:\"Times New Roman\",serif;\n	color:#00000A;}\nh1\n	{mso-style-link:\"Heading 1 Char\";\n	margin-top:0cm;\n	margin-right:0cm;\n	margin-bottom:10.0pt;\n	margin-left:0cm;\n	font-size:12.0pt;\n	font-family:\"Times New Roman\",serif;\n	color:#00000A;\n	font-weight:normal;}\nh2\n	{mso-style-link:\"Heading 2 Char\";\n	margin-top:0cm;\n	margin-right:0cm;\n	margin-bottom:10.0pt;\n	margin-left:0cm;\n	font-size:12.0pt;\n	font-family:\"Times New Roman\",serif;\n	color:#00000A;\n	font-weight:normal;}\na:link, span.MsoHyperlink\n	{color:blue;\n	text-decoration:underline;}\np.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph\n	{margin-top:0cm;\n	margin-right:0cm;\n	margin-bottom:10.0pt;\n	margin-left:36.0pt;\n	font-size:12.0pt;\n	font-family:\"Times New Roman\",serif;\n	color:#00000A;}\nspan.Heading1Char\n	{mso-style-name:\"Heading 1 Char\";\n	mso-style-link:\"Heading 1\";\n	font-family:\"Calibri Light\",sans-serif;\n	color:#2E74B5;}\nspan.Heading2Char\n	{mso-style-name:\"Heading 2 Char\";\n	mso-style-link:\"Heading 2\";\n	font-family:\"Calibri Light\",sans-serif;\n	color:#2E74B5;}\np.TextBody, li.TextBody, div.TextBody\n	{mso-style-name:\"Text Body\";\n	margin-top:0cm;\n	margin-right:0cm;\n	margin-bottom:7.0pt;\n	margin-left:0cm;\n	line-height:120%;\n	font-size:12.0pt;\n	font-family:\"Times New Roman\",serif;\n	color:#00000A;}\nspan.InternetLink\n	{mso-style-name:\"Internet Link\";\n	color:blue;\n	text-decoration:underline;}\n.MsoChpDefault\n	{font-size:10.0pt;}\n\@page WordSection1\n	{size:595.3pt 841.9pt;\n	margin:57.0pt 48.55pt 70.85pt 52.5pt;}\ndiv.WordSection1\n	{page:WordSection1;}\n /* List Definitions */\n ol\n	{margin-bottom:0cm;}\nul\n	{margin-bottom:0cm;}\n-->\n</style>\n\n</head>\n\n<body lang=EN-US link=blue vlink=purple>\n\n<div class=WordSection1>\n\n<p class=MsoNormal align=center style='text-align:center'><b><span lang=EN-GB\nstyle='font-size:15.0pt;color:black'>Squeeze2Raop – AirPlay bridge - User Guide</span></b></p>\n\n<h1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n0cm;page-break-after:avoid'><a name=\"__RefHeading__1023_962334235\"></a><b><span\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nIntroduction</span></b></h1>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>1.1</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>What Is It?</span></h2>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>This program\n(squeeze2raop - sq2r for short) allows AirPlay compatible devices to be used and\ncontrolled from LMS as regular squeezebox devices. It scans the local network\nfor renderers and creates an instance of an LMS software player for each player\nfound.</span></p>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>It can run on any\ncomputer running Windows or Linux x86.&nbsp;OSX and Linux ARM versions may also\nbe available. For speed reasons, it is better to be co-located with LMS, but\nthis is not essential, it can run on any computer connected to LMS via Ethernet\nor WiFi. </span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>What version to\nselect:</span></u><span lang=EN-GB style='color:black'> Linux platforms have a\nnormal version and a –static version. The –static version removes the\ndependency with all shared libraries. It’s convenient on some NAS platform that\noften are not full Linux systems, but the drawback is that libraries updates\nprovided with your system will be not be usable by sq2r.</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>1.2</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>How it Works</span></h2>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>Sq2r receives commands\nand audio streams from LMS.&nbsp; These are transformed into AirPlay commands\nand streams, will all necessary decoding / resampling.</span></p>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>Gapless, Replay Gain,\nFading and Synchronization are fully supported</span></p>\n\n<p class=MsoNormal><b><u><span lang=EN-GB style='color:black'>README </span></u></b></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Volume management</span></u><span\nlang=EN-GB style='color:black'>: By default, LMS commands are translated into\nAirPlay commands using device’s volume control (‘hardware’ mode – <b>highly\nrecommended</b>). Any change made using the device remote control is also fed\nback to LMS. Some players have faulty volume control that stops playback for a\nfew seconds at each command. To avoid this, a software gain can be applied by\nsq2r on digital samples (in that case, feedback is disabled). It might be\nneeded to adjust the correspondence between AirPlay volumes( –30…0) and LMS\nvolume (1..100). It’s also possible to block all LMS volume commands, set an\ninitial AirPlay volume level and disable feedback. See volume parameters below\nfor more details.</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Format supported:</span></u><span\nlang=EN-GB style='color:black'> AirPlay requires tracks to be 44.1kHz/16 bits,\nsq2r will do the necessary decoding. It supports\nmp3,flac,aac,aif,wav,ogg,ogf,ops,pcm as well as resampling and 24 bits\ntruncating. Such decoding requires a fair amount of CPU. You need to have the\ncorresponding libraries installed. For windows, the DLL are provided in the\npackage, for Linux you need to make sure that the .so are installed.\n(libFLAC.so.8, libmad.so.0 and/or libmpg123.so.0, libfaad.so.2). The resampler\nis always built-in with the application, no need of shared librairies. For OSX,\nas such libraries seems to be difficult to find, everything is built-in. The\n–static version of Linux have the codec libraries built-in.</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Co-existence with\nother controllers:</span></u><span lang=EN-GB style='color:black'> When\nplaying, sq2r takes the exclusive usage of the AirPlay device and will keep it\neven while the player is stopped or paused. The parameter &lt;idle_timeout&gt;\nconfigures the amount of seconds after which sq2r will release the AirPlay\ndevice, once it has been stopped or paused. The release does not happen\nimmediately after pause or stop because some players can take multiple seconds\nto establish the connection, and this is very annoying when pausing for a short\nperiod of time or when moving between tracks. Note that most players disconnect\nanyway after ~30s receiving no audio. Starting with version 0.2, sq2r supports\nthe DACP protocol, so any AirPlay remote controller will work and ‘control’\nLMS. On network AV amplifiers, when switching source directly on the player,\nsq2r will gracefully give back control of the device and automatically stop LMS</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Synchronization:</span></u><span\nlang=EN-GB style='color:black'> There is a normally no need to adjust your\nplayer delay in LMS player settings (<b>not</b> in the plugin settings). Still,\nit might be needed to add 25-50ms of player latency in a few cases.</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Network bandwidth\nand CPU:</span></u><span lang=EN-GB style='color:black'> Audio is sent in raw\nPCM which requires 1.4Mbits/s per player (plus some overhead), so this puts a\nfair amount of constraints on your network and CPU but I’ve made some tests\nwith flac or mp3 decoding running on 3 players on a raspberry Pi 2, only\nconnect using WiFi and it consumes less than 20%. Starting with version\n0.2.2.0, audio can be re-encoded using ALAC. This saves 30~50% network\nbandwidth but adds a few percent more of CPU per player.</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Players detection:</span></u><span\nlang=EN-GB style='color:black'> If you have more than one Ethernet interface\nand AirPlay devices detection does work, use the &lt;interface&gt; parameter\n(Network Interface in LMS user interface) to force the IP address of the\nmachine running sq2r. When used on the same machine than LMS, the interface can\nbe given automatically (see plugin settings in LMS).</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Stability</span></u><span\nlang=EN-GB style='color:black'>: It still happens that some players get\ndisconnected. There is a watchdog mechanism that (normally) re-establish the\nconnection after ~30s, so wait a bit if it happens, don’t stop LMS or stop the\nplayback. In case nothing comes back, you can toggle off/on the player in LMS,\nit does a full reset of sq2r for that player</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Firewall:</span></u><span\nlang=EN-GB style='color:black'> The firewall must let sq2r open various ports\n(3 UDP and 1 TCP) whose start and range can be set using -a command line or\n&lt;ports&gt; option (random ports by default). In Windows, just create a new\nrule for c:\\programdata\\squeezecenter\\cache\\installedplugins\\plugins\\raopbridge\\bin\\squeeze2raop-win.exe\nin the firewall. If you use docker, you must set network to host mode</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>Garbled sound:</span></u><span\nlang=EN-GB style='color:black'> Reduce the “Networking Buffer”\n(&lt;read_ahead&gt; parameter) in the plugin parameters to a value below 3000.</span></p>\n\n<p class=MsoNormal><u><span style='color:black'>No sound after 30~90 seconds</span></u><u><span\nlang=EN-GB style='color:black'>:</span></u><span lang=EN-GB style='color:black'>\nIt has been observed, at least on AppleTV, that if metadata sending is\ndisabled, the player closes the connection avec 30 to 90 seconds, resulting a\nmuted output, although everything looks fine from LMS. Just enable metadata\nsending to make sure the plugin regularly communicates control information with\nthe player</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>AppleTV:</span></u><span\nlang=EN-GB style='color:black'> Starting with iOS 10.2, AppleTV requires a\npairing with any client that wants to send audio using AirPlay. Version 0.3.0.0\nand above supports this but you need a LMS web UI. In the plugin settings,\nyou’ll see a “Pair” button next to any detected AppleTV. Click there, look at\nthe code displayed on your TV, enter that code and click “Submit”. If pairing\nis successful, A long line should appear to the right of the “Pair” button. If\nno “Pair” button appear, make sure you’ve activated the bridge, waited 30sec\nand refreshed the setting page. If you don’t use the LMS web UI, send me an\nemail and I’ll provide a small Perl script that makes the pairing.</span></p>\n\n<p class=MsoNormal><u><span lang=EN-GB style='color:black'>HomePod</span></u><span\nlang=EN-GB style='color:black'>: HomePods require “Send LMS metadata to player”\nto be activated in plugin’s settings and with recent iOS version, &quot;Allow\nSpeaker and TV Access&quot; shall be set to &quot;Anyone On The Same\nNetwork&quot; in homepod’s settings</span></p>\n\n<h1 style='margin-bottom:0cm;margin-bottom:.0001pt;page-break-after:avoid'><a\nname=\"__RefHeading__524_1289253441\"></a><b><span lang=EN-GB style='font-size:\n14.0pt;font-family:\"Liberation Sans\"'>&nbsp;</span></b></h1>\n\n<h1 style='margin-bottom:0cm;margin-bottom:.0001pt;page-break-after:avoid'><b><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>2&nbsp;&nbsp;&nbsp;&nbsp;AirPlay\nbridge Plugin</span></b></h1>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>The simplest way to use\nsq2r is to install the “AirPlay bridge” plugin on the system running LMS.&nbsp;\nIf this is not practical and you need to install it on another computer, see\nSection </span><span lang=EN-GB>3</span><span lang=EN-GB style='color:black'>\nbelow. </span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>2.1</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\";color:black'>First Steps</span></h2>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>i.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB>Go to the Settings, Plugins page on the LMS GUI.</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>ii.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB>Go to 'Additional Repositories' near the bottom. If\nthis is not available, there should be an option to enable third party plugins.\nTick this, and press 'Apply' at bottom right.</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>iii.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB>Add the following line to the list of additional\nrepositories: </span></p>\n\n<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;\nmargin-left:85.0pt;margin-bottom:.0001pt;text-indent:21.2pt'><span lang=EN-GB>development\nversion: <a\nhref=\"http://downloads.sourceforge.net/project/lms-to-raop/dev/repo-sf.xml\">http://downloads.sourceforge.net/project/lms-to-raop/dev/repo-sf.xml</a>\n</span></p>\n\n<p class=MsoNormal style='margin-left:84.95pt;text-indent:21.25pt'>stable\nversion: <span lang=FR><a\nhref=\"http://downloads.sourceforge.net/project/lms-plugins-philippe44/repo-sf.xml\"><span\nlang=EN-US>http://downloads.sourceforge.net/project/lms-plugins-philippe44/repo-sf.xml</span></a></span><span\nlang=FR> </span></p>\n\n<p class=MsoNormal><span lang=EN-GB>Restart LMS.</span></p>\n\n<p class=TextBody style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>iv.</span><span lang=EN-GB style='font-size:7.0pt;line-height:120%'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB style='color:black'>You should now find that there is a\nnew section listing the AirPlay plugin&nbsp;&nbsp; Tick this to make it available\non the next LMS restart, and restart LMS.</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>v.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB>Go to the Settings, Advanced page on the LMS GUI and\nselect the AirPlay bridge entry.</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>vi.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB style='color:black'>Turn on all your AirPlay devices</span><span\nlang=EN-GB>. </span></p>\n\n<p class=MsoNormal style='margin-left:14.15pt'><span lang=EN-GB>Tick the ’Start\nthe Bridge’ tickbox, choose the executable for your platform if more than one\nis available and tick ‘Apply’ at the right-bottom of the page. As the\n‘autosave’ option is ticked by default, a configuration will be generated\nautomatically after ~30s, just wait and refresh the page to see it. You can optionally\nforce configuration file generation by ticking ‘Generate’ (not recommended)</span></p>\n\n<p class=MsoNormal style='margin-left:14.15pt'><span lang=EN-GB>From that\npoint, you might be lucky and have sq2r and your players working with all\nbuilt-in defaults</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>vii.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB>Make sure the ‘Start the Bridge’ tickbox is unticked</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>viii.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;</span><span\nlang=EN-GB style='color:black'>Edit the parameters if you need to (you can, for\nexample, change the name of the player).</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>ix.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span\nlang=EN-GB style='color:black'>Save these values and restart the plugin by\nticking the 'Start the Bridge' tickbox and press 'Apply'. </span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>x.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB style='color:black'>The parameters on the plugin\nsettings screen include most of those in the configuration file.&nbsp; See\nSection </span><span lang=EN-GB>5</span><span lang=EN-GB style='color:black'>\nfor details of each configuration file parameter.&nbsp; You can edit the\nconfiguration file manually if you really need to.</span></p>\n\n<p class=MsoNormal style='margin-left:36.0pt;text-indent:-21.85pt'><span\nlang=EN-GB>xi.</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB style='color:black'>If you get stuck, read </span><span\nlang=EN-GB>Section 4 which may help you to choose different options.</span></p>\n\n<p class=MsoNormal style='margin-left:14.15pt'><span lang=EN-GB>When ‘autosave’\nis ticked, the configuration will be saved every time a player connects or\ndisconnects. It is also possible to manually update your configuration file at\nany time by ticking ‘Generate’ (whether ‘Start the Bridge’ is ticked or not).</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><a\nname=\"__RefHeading__1149_395429088\"></a><span lang=EN-GB style='font-size:14.0pt;\nfont-family:\"Liberation Sans\"'>2.2&nbsp;&nbsp;&nbsp; Setting up the Codecs and\nconversion parameters</span></h2>\n\n<p class=MsoNormal style='background:white'><span lang=EN-GB style='color:black'>By\ndefault sq2r supports wav, pcm, aif, mp3, flc, ogg, ops, ogf and aac. You can\nchange (restrict, not add others) this using the &lt;codec&gt; parameter in the\nconfiguration file (see below) and choose to have LMS do some transcoding\ninstead</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>2.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nStart Playing Your Music</span></h2>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>Within a short time after restarting the plugin\nthe renderers will appear as renderers in the LMS GUI and you should be able to\nplay tracks as normal with any squeezebox device (or squeezelite, squeezeplay\netc.).</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='font-size:11.0pt;font-family:\"Verdana\",sans-serif;color:black'>&nbsp;</span></p>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>&nbsp;</span></p>\n\n<h1 style='margin-bottom:0cm;margin-bottom:.0001pt;page-break-after:avoid'><b><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nGuide To Installing Squeeze2raop on a Separate System</span></b></h1>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>3.1</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>Install or Compile</span></h2>\n\n<p class=MsoNormal><span lang=EN-GB>You can copy the squeeze2raop program from<a\nhref=\"https://github.com/philippe44/LMS-to-uPnP\"><span style='color:#00000A;\ntext-decoration:none'> </span></a></span><span class=InternetLink><span\nlang=EN-GB><a href=\"http://sourceforge.net/projects/lms-to-raop/files\">http://sourceforge.net/projects/lms-to-raop/files</a></span></span><span\nlang=EN-GB> to the location where you want to run it.</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>On Windows, you need to copy pthreadBC2,\ncc32160mt.dll, libeay32.dll, ssleay32.dll to the same directory as the program.</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>On Linux (Intel CPU), if you use a 32 bit\nsystem, just copy squeeze2raop-x86. If your system is 64bits, you need to\neither have libc6 32 bits or choose the native 64 bits version\nsqueeze2raop-x86-64. To install it such 32 bits libraries on a 64 bits systems,\ndo at any command prompt</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><i><span\nlang=EN-GB style='color:black'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\nsudo apt-get install libc6:i386</span></i><span lang=EN-GB style='color:black'>:</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><span lang=EN-GB>If you are familiar with compiling programs\non your platform, go to<a\nhref=\"https://github.com/philippe44/LMS-to-uPnP/tree/master/stable\"><span\nstyle='color:#00000A;text-decoration:none'> </span></a><span\nclass=InternetLink><span style='color:#00000A'>https://github.com/philippe44/LMS-to-Raop/tree/master/stable</span></span><b><i>\n</i></b>where the stable version of the source of the program is located.&nbsp;\nThe source can be downloaded and built in the normal way.&nbsp;The README\ncontains compilation instructions.</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>3.2</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>Identify Your AirPlay\nRenderers</span></h2>\n\n<p class=MsoNormal><span lang=EN-GB>Follow these steps:</span></p>\n\n<ol style='margin-top:0cm' start=1 type=i>\n <li class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:\n     115%'><span lang=EN-GB>Turn on all the renderers you might ever want to\n     use and make sure they are connected to your local network.&nbsp; </span></li>\n <li class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:\n     115%'><span lang=EN-GB>Run the squeeze2raop program from a command\n     line.&nbsp; Wait for about 1 minute.</span></li>\n <li class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:\n     115%'><span lang=EN-GB>Type ‘save config.xml’</span></li>\n <li class=MsoNormal style='line-height:115%'><span lang=EN-GB>Type exit</span></li>\n</ol>\n\n<p class=MsoNormal style='text-indent:18.0pt'><span lang=EN-GB>-or- <i>(preferred\nmethod)</i></span></p>\n\n<ol style='margin-top:0cm' start=2 type=i>\n <li class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:\n     115%'><span lang=EN-GB>Run the “squeeze2raop –i config.xml” from a command\n     line </span></li>\n <li class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:\n     115%'><span lang=EN-GB>After less than 1 minute, the program exits </span></li>\n</ol>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='font-family:\"Verdana\",sans-serif'>&nbsp;</span></p>\n\n<p class=MsoNormal><span lang=EN-GB>In the directory containing sq2r you should\nnow have a file called config.xml.&nbsp; This lists all the renderers found by\nsq2r and contains the default configuration values.&nbsp; Take a copy of this\nfile and save it somewhere.&nbsp; It may come in useful some day.</span></p>\n\n<p class=MsoNormal><span lang=EN-GB>If you ever add a new renderer to your\nsystem you will need to repeat this process, unless you have launched sq2r with\nthe “-I &lt;config file&gt; in which case newly found players are automatically\nadded.&nbsp; If you 'save' again to your current configuration file your\nexisting options will be carried over and newly discovered player will be\nadded.</span></p>\n\n<p class=MsoNormal><span lang=EN-GB>The configuration file you now have\n(config.xml) consists of a general header, some common parameters, and then a\nsection for each and every renderer sq2r has found.</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>3.3</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>Startup Options</span></h2>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>To see the command line\nswitches, run squeeze2raop with -h.&nbsp; Some of these options, such as the\nserver id, can be overridden in the configuration file.&nbsp; </span></p>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>You have a choice as to\nwhere to place logs and where the configuration file is located.&nbsp; </span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>On startup, sq2r tries to open a file named\n“config.xml” in the current directory (or uses the filename provided using the\n–x option). If no file is found, all parameters will be set to default. To\ngenerate such a configuration file, type “save &lt;filename&gt;” when sq2r is\nrunning and a file with all existing configuration parameters and discovered\ndevices will be created. Alternatively, you can launch sq2r with the “-i\n&lt;config file&gt;” option.</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>Type ‘squeeze2raop-[you platform] –h” for a list\nof command line options</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>3.4</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>Runtime Options and\nActions</span></h2>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB>There a few commands that can be entered on the command line while\nsq2r is running, unless you have launched it with the “-Z” option:</span></p>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB>&nbsp;</span></p>\n\n<p class=MsoListParagraph style='margin-bottom:0cm;margin-bottom:.0001pt;\ntext-indent:-18.0pt'><span lang=EN-GB style='font-family:Symbol'>·</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB style='color:black'>exit : terminates</span></p>\n\n<p class=MsoListParagraph style='margin-bottom:0cm;margin-bottom:.0001pt;\ntext-indent:-18.0pt'><span lang=EN-GB style='font-family:Symbol'>·</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB style='color:black'>save &lt;filename&gt; : save the\nconfig file</span></p>\n\n<p class=MsoListParagraph style='margin-bottom:0cm;margin-bottom:.0001pt;\ntext-indent:-18.0pt'><span lang=EN-GB style='font-family:Symbol'>·</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><span lang=EN-GB style='color:black'>stop * or stop &lt;string&gt; will\nstop any renderer whose name matches &lt;string&gt;</span></p>\n\n<span lang=EN-GB style='font-size:12.0pt;font-family:\"Times New Roman\",serif;\ncolor:#00000A'><br clear=all style='page-break-before:always'>\n</span>\n\n<p class=MsoListParagraph style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB>&nbsp;</span></p>\n\n<h1 style='margin-bottom:0cm;margin-bottom:.0001pt;page-break-after:avoid'><a\nname=\"__RefHeading__1197_939935217\"></a><b><span lang=EN-GB style='font-size:\n14.0pt;font-family:\"Liberation Sans\"'>4</span></b><b><span lang=EN-GB\nstyle='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>Technical\nInformation</span></b></h1>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB>&nbsp;</span></p>\n\n<h2 style='margin-bottom:0cm;margin-bottom:.0001pt;page-break-after:avoid;\nbackground:white'><span lang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>4.1</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>Renderer Searches</span></h2>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;background:\nwhite'><span lang=EN-GB>&nbsp;</span></p>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'>Network is continuously\nlistened to for player-related events. According to the mDNS-SD specifications,\n<span lang=EN-GB>players shall advertise themselves when joining and then every\n120 seconds. They also shall send a bye-bye message when leaving. In addition,\na search is launched every 30 seconds in case to trigger player’s response.\nWhen a player does not advertise itself for 120 seconds, it will be removed.</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><a\nname=\"__DdeLink__595_1289253441\"></a><a name=\"__RefHeading__1028_962334235\"></a><a\nname=\"__RefHeading__2026_773093279\"></a><span lang=EN-GB style='font-size:14.0pt;\nfont-family:\"Liberation Sans\"'>4.2</span><span lang=EN-GB style='font-size:\n7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB style='font-size:14.0pt;\nfont-family:\"Liberation Sans\"'>Interoperability with other AirPlay controllers</span></h2>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'><span\nlang=EN-GB style='color:black'>You can do play, pause, stop, mute and volume\ncontrol, skip to next and previous tracks. Fast forward / rewind works but is\nnot very convenient. It does increment time by 10s chunks.</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>4.3</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>Network buffering</span></h2>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'>Because they\nreceive audio frame in real time, there is a need for players to buffer a\ncertain amount of ms of audio ahead. This can bet set in &lt;read_ahead&gt;\nparameter. Note that when using software-volume (&lt;player_volume&gt; set to a\npositive value) a delay of &lt;read_ahead&gt; ms will happen between the volume\nchange request and the actual change.</p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><a\nname=\"__DdeLink__1712_568257573\"></a><a name=\"__RefHeading__1532_593273442\"></a><span\nlang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>4.4</span><span\nlang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;</span><span lang=EN-GB\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>Volume management</span></h2>\n\n<p class=MsoListParagraph style='margin:0cm;margin-bottom:.0001pt'>There are a\nfew corks with some players and volume control. The following parameters are\nneeded to fine tune behavior: &lt;volume_mode&gt;, &lt;player_volume&gt;,\n&lt;volume_trigger&gt;, &lt;volume_feedback&gt;</p>\n\n<p class=MsoListParagraph style='margin-bottom:0cm;margin-bottom:.0001pt'>&nbsp;</p>\n\n<p class=MsoListParagraph style='margin-top:0cm;margin-right:0cm;margin-bottom:\n0cm;margin-left:53.4pt;margin-bottom:.0001pt;text-indent:-18.0pt'><span\nstyle='font-family:Symbol'>·</span><span style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>&lt;volume_mode&gt; (2) : defines if LMS volume commands shall be ignored\n(0), translated to AirPlay commands (2 = hardware) or gain shall be apply on\nsamples (1= software)</p>\n\n<p class=MsoListParagraph style='margin-top:0cm;margin-right:0cm;margin-bottom:\n0cm;margin-left:53.4pt;margin-bottom:.0001pt;text-indent:-18.0pt'><span\nstyle='font-family:Symbol'>·</span><span style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>&lt;player_volume&gt; (-1) : volume that is set when a track starts and\nno LMS volume command has been received yet. When &lt;volume_mode&gt; is set to\nhardware, this value is used only once as obviously further LMS volume commands\nwill be received. Set to -1 so that this value is ignored (only actual LMS\nvolume commands, if allowed, will be used)</p>\n\n<p class=MsoListParagraph style='margin-top:0cm;margin-right:0cm;margin-bottom:\n0cm;margin-left:53.4pt;margin-bottom:.0001pt;text-indent:-18.0pt'><span\nstyle='font-family:Symbol'>·</span><span style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>&lt;volume_trigger&gt; (0) : wait for the AirPlay device to send it's\nvolume status before issuing the first volume command. Some players need that\notherwise they ignore volume commands. Not that when &lt;volume_mode&gt; is\nsoftware or ignore, the &lt;player_volume&gt; value will be sent (again) upon\nreception of player's status</p>\n\n<p class=MsoListParagraph style='margin-top:0cm;margin-right:0cm;margin-bottom:\n0cm;margin-left:53.4pt;margin-bottom:.0001pt;text-indent:-18.0pt'><span\nstyle='font-family:Symbol'>·</span><span style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span>&lt;volume_feedback&gt; (1) : when a volume change is made directly on\nthe AirPlay player (using its remote), this allows such change to be forwarded\nto LMS. As LMS will immediately issue a command in return, this could create an\n“echo” loop, so all LMS commands that are issued less than a second after a\nfeedback has been provided are ignored (filtered out). Unfortunately, some\nplayers do not change their volumes themselves but expect the controller (LMS)\nto command the change. Set this to 2 then as filtering must be disabled\notherwise commands would never be sent (would be evaluated as ‘echo’). Note\nthat when &lt;volume_mode&gt; is set to software, feedback is ignored as it\nwould not make any sense.</p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'>&nbsp;</p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'>Hopefully,\nmost players do not need to tinker with these parameters and default values\nwork just fine</p>\n\n<h1 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n21.6pt;text-indent:-21.6pt;page-break-after:avoid'><a\nname=\"__RefHeading__592_1289253441\"></a><span lang=EN-GB style='font-size:14.0pt;\nfont-family:\"Liberation Sans\"'>5</span><span lang=EN-GB style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</span><b><span lang=EN-GB style='font-size:14.0pt;font-family:\"Liberation Sans\"'>Configuring\nSqueeze2raop</span></b></h1>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><a\nname=\"__RefHeading__1032_962334235\"></a><span lang=EN-GB style='font-size:14.0pt;\nfont-family:\"Liberation Sans\"'>5.1</span><span lang=EN-GB style='font-size:\n7.0pt'>&nbsp;&nbsp;&nbsp; </span><span lang=EN-GB style='font-size:14.0pt;\nfont-family:\"Liberation Sans\"'>The Configuration File</span></h2>\n\n<p class=MsoNormal><a name=\"__DdeLink__1139_19111252451\"></a><span lang=EN-GB\nstyle='color:black'>The full set of options is as follows (comments are shown\nin italics and do not appear in the file).&nbsp; A number of parameters are\nthere for future use only, and commented N/A (Not Applicable). </span></p>\n\n<p class=MsoNormal><span lang=EN-GB style='color:black'>There are 3 parts in a\nconfiguration file: system parameters, &lt;common&gt; parameters that apply by\ndefault to all AirPlay devices and, for each individual AirPlay renderer\ndiscovered, a &lt;device&gt; section. When a parameter is set in an AirPlay\nrenderer &lt;device&gt; section, it takes precedence (but only for that\nrenderer) over the same parameter in the &lt;common&gt; section. </span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><b><span\nlang=EN-GB style='font-size:11.0pt;color:black'>&lt;?xml\nversion=&quot;1.0&quot;?&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;squeeze2raopt&gt;</span></b></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Global\noptions</span></i></p>\n\n<p class=MsoNormal><b><span style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span style='font-size:11.0pt;color:black'>&lt;interface&gt;[ip]\n| ?]&lt;/interface&gt; </span></b><i><span style='font-size:11.0pt;color:black'>default\n= ?</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>ip\n= IP address of the interface that should be use. This is only useful for a\ncomputer with multiple Ethernet interface or to improve player detection using\nmDNS protocol</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Use\n? for auto selection</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;exclude_model&gt;[model1;model2…modelN]&lt;/exclude_model&gt;\n</span></b><i><span lang=EN-GB style='font-size:11.0pt;color:black'>default =\n“aircast;airupnp”</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>A\nlist of model name tp be excluded from the search. Any device containing one of\nthese strings will be discarded. Note that this parameter is not created when\ndefault config file (-i) is generated.</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;log_limit&gt;[-1\n| value]&lt;/log_limit&gt; </span></b><i><span lang=EN-GB style='font-size:\n11.0pt;color:black'>default = -1</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Sets\nthe maximum size (in MB) of a logfile. Set to -1 for unlimited</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;slimproto_log&gt;[error\n| warn | info | debug | sdebug]&lt;/slimproto_log&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;stream_log&gt;[error\n| warn | info | debug | sdebug]&lt;/stream_log&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;output_log&gt;[error\n| warn | info | debug | sdebug]&lt;/output_log&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;decode_log&gt;[error\n| warn | info | debug | sdebug]&lt;/decode_log&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;raop_log&gt;[error\n| warn | info | debug | sdebug]&lt;/raop_log&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;util_log&gt;[error\n| warn | info | debug | sdebug]&lt;/util_log&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;main_log&gt;[error\n| warn | info | debug | sdebug]&lt;/main_log&gt;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;slimmain_log&gt;[error\n| warn | info | debug | sdebug]&lt;/slimmain_log&gt;</span></b></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Level\nof debugging for each sub-item of sq2r.&nbsp; Leave these at info in the\ncurrent version.</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>These\ncan be overridden in the command line with the -d option.</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB>&nbsp;</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;common&gt;</span></b></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>All\nitems in this sub-section set the default behaviour for all renderers. Any\noption can be repeated in the &lt;device&gt; section of a given renderer to\noverride the &lt;common&gt; option.</span></i></p>\n\n<p class=MsoNormal><span lang=EN-CA style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=FR style='font-size:11.0pt'>&lt;server&gt;[ip[:port]\n| ?]&lt;/server&gt; </span></b><i><span lang=FR style='font-size:11.0pt'>default\n= ?</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>ip\n= IP address or network name, port = port number (usually 3483) of your LMS\nserver.&nbsp; </span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Use\n? for auto-discovery</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>This\ncan be overridden in the command line with the -s option.</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span style='font-size:11.0pt'>&lt;ports&gt;[base][:range]\n&lt;/server&gt; </span></b><i><span style='font-size:11.0pt'>default = 0:0</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>base\n= first port that can be used for incoming UDP/TCP connections (use to limit\nfirewall openings)</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>range\n= number of allowed ports</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>This\ncan be overridden in the command line with the -a option.</span></i></p>\n\n<p class=MsoNormal>&nbsp;</p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;enabled&gt;[0\n| 1]&lt;/enabled&gt; </span></b><i><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'>default = 1</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>‘1’\nto automatically add any discovered AirPlay renderer to LMS players, even if\nthere is no &lt;device&gt; section referring to it. '0' to prevent this.</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;streambuf_size&gt;[value\n&gt; 1000000]&lt;/streambuf_size&gt;</span></b><span lang=EN-GB\nstyle='font-size:11.0pt;color:black'> <i>default = 2457600</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Size\nof the internal memory buffer used to store audio data sent by LMS. Any value\nabove 1,000,000 is fine. If your network is slow you may need to increase it.</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;output_size&gt;<a\nname=\"__DdeLink__1856_1756514966\">[value &gt; 1000000]</a>&lt;/output_size&gt; </span></b><i><span\nlang=EN-GB style='font-size:11.0pt;color:black'>default = 2457600</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Size\nof the internal memory buffer used to store audio data sent by LMS. Any value\nabove 1,000,000 is fine. If your network is slow you may need to increase it.</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;<b>player_volume&gt;[\n-1 | 0..100]&lt;player_volume &gt;</b> <i>default =-1</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Defines\nthe volume level that is set by sq2r every times it (re)connects to the AirPlay\ndevice. Set it to -1 to disable setting a volume.</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><span style='font-size:11.0pt;color:black'>&lt;<b>volume_mode&gt;[\n0 | 1 | 2]&lt;/volume_mode &gt;</b> <i>default =2</i></span></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>Defines how LMS volume commands are forwarded\nto the AirPlay device. </span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>0: disable forwarding. LMS volume has no\nimpact on player.</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>1: use ‘ software’ volume where the gain\nis applied by sq2r directly on the digital samples. This is needed for&nbsp;\nplayers that do not handle not handle properly volume commands, so</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>2: &nbsp;use AirPlay device native volume\ncontrol(hardware). </span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal><span style='font-size:11.0pt;color:black'>&lt;<b>mute_on_pause&gt;[\n0 | 1]&lt;/mute_on_pause &gt;</b> <i>default =1</i></span></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>LMS default’s behaviour is to mute a\nplayer when paused. Some AirPlay devices (not Apple native ones) ignore LMS\nvolume command upon resume and stay muted until a manual volume change is made\nin LMS. Set this to 0 to block LMS mute command when AirPlay device is paused</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal><span style='font-size:11.0pt;color:black'>&lt;<b>volume_trigger\n&gt;[ 0 | 1]&lt;/volume_trigger &gt;</b> <i>default =0</i></span></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>Some AirPlay devices ignore volume command\nuntil they have sent (feedback) their current volume to their controller. As a\nresult, they can stay muted upon resume after a long pause (above 30s). Set\nthis parameter to wait for such feedback to be received by the bridge before\nsending any volume command. This is required for Yamaha WX serie</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal><span style='font-size:11.0pt;color:black'>&lt;<b>prevent_playback\n&gt;[stop | off]&lt;/prevent_playback &gt;</b> <i>default =stop</i></span></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>When an AirPlay device (e.g. an AV\nreceiver) is switched to another source using its remote, the bridge is\nnotified and must prevent LMS from trying to continue handling that device.\nIt’s possible to either stop current track (it will stop all other players that\nare synchronized) or to power off only the associated virtual LMS player,\nletting the other LMS devices continue playing. </span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'>&nbsp;</p>\n\n<p class=MsoNormal><span lang=EN-CA style='font-size:11.0pt;color:black'>&lt;<b>volume_feedback&gt;[0\n| 1 | 2]&lt;/volume_feedback &gt;</b> <i>default =1</i></span></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>Defines how AirPlay volume changes made\nlocally on the player are feedback to LMS</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>0: disable feedback</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>1: AirPlay changes are forwarded to LMS\nwhose commands are ignored (filtered out) if received less than a second after\nfeedback</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>2: Same as 1 but filtering out is disabled\n– beware of echo loop effect</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal><span lang=EN-CA style='font-size:11.0pt;color:black'>&lt;<b>volume_mapping&gt;[string]&lt;/volume_mapping\n&gt;</b> <i>default =&nbsp;-30&nbsp;:1, -15&nbsp;:50, 0:100</i></span></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>This parameter maps the volume values\nbetween AirPlay and LMS. AirPlay volume goes from -30.0 to 0.0 (loudest) and is\ndecimal while LMS volume goes from 1 to 100 and is integer. Unfortunately, some\nplayers do not make a straight ‘linear’ conversion like LMS =\n(AirPlay/30+1)*100. Typically, a value of 50 on LMS scale instead of being -15\nis -17.625. This is a problem for remote volume feedback as the value set by\nthe AirPlay device does not “match” the value estimated by LMS. This parameter\nallows sq2r to compute a closer matching between the two by providing a few\nreference points that are used to do the full translation between the volumes.\nThis parameter is in a format of “a1:b1, a2:b2, …an:bn” where “a” is an AirPlay\nvolume value and “b“is the LMS corresponding value. It’s possible to set as\nmany points as 100 (full match), but when less are provided (which is the\nnormal case, typically 5 points are more than enough), sq2r does the\ninterpolation between the two closest points. Note that LMS volume of ‘0’\ncorresponds to AirPlay level of ‘-144.0’ and shall *not* be set as a reference\npoint. The default value is a linear match</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:4.0pt'><i><span lang=EN-CA\nstyle='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><b><span\nstyle='font-size:11.0pt'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;idle_timeout&gt;[value\n&gt; 10]&lt;/idle_timeout&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 30</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>In\nAirPlay systems, a controller requires exclusive control of the player and must\nopen a session for this. This session creation can take up to 10s on some\nplayers, so even when stopped or paused, sq2u will keep the session alive. The\nsession an be terminated by switching off the player in LMS, but this can still\nbe inconvenien. Set this to a value above 10 (in seconds) to set the time after\nwhat, when paused or stopped, the session will be disconnected. When resuming\nplay, it will be automatically reopened, but it might take time.</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;remove_timeout&gt;[-1\n| 0 | value]&lt;/enabled&gt; </span></b><i><span lang=EN-GB style='font-size:\n11.0pt;color:black'>default = 0</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Player’s\ndiscovery is managed using mDNS protocol, which means that a player sends\nregular keep-alive messages and a bye when disconnecting. Some faulty mDNS\nstack implementations (e.g. Riva) do not always send keep-alive messages, so\nthe bridge is disconnecting them regularly. As a workaround, a timer can be set\nso that the bridge does not immediately remove the player from LMS when missing\na keep-alive, waiting for it to reconnect</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>-1:\nnever remove player from LMS</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>0:\nremove player when keep-alive is missed or when bye message is received</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;value&gt;:\nremove player &lt;value&gt; seconds after missing keep-alive</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;encryption&gt;[0\n| 1]&lt;/encryption&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 0</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Set\nit to 1 to force encryption on players that support it. Seems necessary for\nShairportW. As it uses more CPU for no benefits, it is strongly recommended to\ndisable it</span></i></p>\n\n<p class=MsoNormal><b><span style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;credentials&gt;[string\@ip:port]&lt;/credentials&gt;</span></b><span\nlang=EN-GB style='font-size:11.0pt;color:black'> <i>default = 0</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>This\nis the credentials needed for an AppleTV to accept audio. Do not modify this.\nIt shall be generated using LMS web UI. If you can’t use it, send me an email\nand I’ll provide you with a small Perl snippet that does pairing</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal><b><span lang=FR style='font-size:11.0pt;color:black'>&lt;alac_encode&gt;[0\n| 1]&lt;/alac_encode&gt;</span></b><span lang=FR style='font-size:11.0pt;\ncolor:black'> <i>default = 0</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Set\nit to 1 to encode audio using ALAC. This reduces network usage by 2 (average\nALAC ratio) but consumes much more CPU for the re-encoding process. Otherwise,\naudio is sent at raw PCM (1411 kbps)</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;read_ahead&gt;[value\n&gt; 200]&lt;/read_ahead&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 3000</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>AirPlay\ndevices use a Realtime Transport Protocol (RTP) to send audio data (basically\nthey just and ethernet wire).To avoid playback interruption, enough data must\nbe buffered to absorb network throughput jitter. Do not set too much buffering\nor an overrun might happen and sound will be garbled. For example Apple TV 1\nrequires a value of around 1000. This parameter sets the number of ms of buffer\nin theplayer. Note that due to technical limitations, when pause/unpause,\nplayer will restart &lt;read_ahead&gt; ms after the paused value. This does not\naffect synchronization, though. </span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;sample_rate&gt;[0\n| 1]&lt;/sample_rate&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 96000</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>The\nmaximum sample rate supported by sq2r, as reported to LMS. LMS will refuse to\nplay a track above that rate (and does not do transcoding by default). Note\nthat this is not the rate of the AirPlay device for which all &nbsp;tracks are\nconverted to 44.1kHz by sq2r for AirPlay compliance</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;resample&gt;[0\n| 1]&lt;/resample&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 1</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Set\nthis to 0 to disable resampling that adjusts sample rate to 44.1kHz. You might\nwant to do that if resampling consumes too much CPU, you won’t be able to\nlisten to any track other than 44.1kHz though (except for mp3 tracks if you use\nmpg123codec instead of mad as it does directly a basic resampling)</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;<b>&lt;resample_options&gt;[string]&lt;/resample_options&gt;</b>\n<i>default = empty</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Used\nto tweak the resampling parameters. See libsox and squeezelite options.</span></i><b><span\nlang=EN-GB style='font-size:11.0pt;color:black'> MORE DETAILS LATER</span></b></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;send_metadata&gt;[0\n| 1]&lt;/send_metadata&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 1</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>If\nyou do not want to see metadata (Artist, Album name etc.) on your renderer, or\nif you have a login and password for the LMS CLI interface, set this to\n0.&nbsp;</span></i><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;send_coverart&gt;[0\n| 1]&lt;/send_coverart&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 1</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>If\nyou do not want to see coverert on your renderer, or if you have a login and\npassword for the LMS CLI interface, set this to 0.&nbsp;</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;auto_play&gt;[0\n| 1]&lt;/auto_play&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 0</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Set\nto 1 if you want the player to auto start playing on power on. Seems that this\nfeature is broken in LMS, so this is a workaround. </span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;/common&gt;</span></b></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>This\nis the beginning of the sections that describes each device. There must be one\n&lt;device&gt; section for each AirPlay renderer. <span style='background:yellow'>Any\nparameter set in the &lt;common&gt; can be repeated here, to override the what\nwas set on the &lt;common&gt; section</span>.</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>first\ndevice …</span></i></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;device&gt;</span></b></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;<b>udn&gt;</b></span><span\nlang=EN-GB style='font-size:10.0pt;color:black'>9C645E0296F5\@JBL OnBeat\nAir0296F5._raop._tcp.local</span><b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> &lt;/udn&gt;</span></b></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black;\nbackground:yellow'>!!! DO NOT EDIT THIS !!!&nbsp; It is the AirPlay device\nunique identifier for that renderer – this is discovered automatically.</span></i><i><span\nlang=EN-GB style='font-size:11.0pt;color:black'> </span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;<b>friendly_name&gt;</b>AirPort-Express&lt;<b>friendly_name&gt;</b></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>!!!\nDO NOT EDIT THIS !!!&nbsp; It is the UPnP device name set by renderer – this is\ndiscovered automatically. The example is for a AirPort Express.</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;name&gt;[string]&lt;/name&gt;</span></b></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>The\nname of the renderer as seen in LMS – can be set to whatever you want, from the\nLMS web interface or from the plugin’s settings.&nbsp; Defaults to the AirPlayt\nbuilt-in name.</span></i></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></b></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;mac&gt;[xx:xx:xx:xx:xx:xx]&lt;/mac&gt;</span></b></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>The\nmac address of the player, note that <u>all players must have unique mac for\nLMS to work properly. </u>If this parameter is omitted, sq2r will try to\ndiscover the true physical address and replace the first 2 bytes with ‘aa’(this\nis needed to make sure mac is unique across different bridge plugins). If it\ncannot be discovered, then a random unique value will be generated, again with\nthe first 2 bytes set to ‘bb’</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=EN-GB style='font-size:11.0pt;color:black'>&lt;enabled&gt;[0\n| 1]&lt;/enabled&gt;</span></b><span lang=EN-GB style='font-size:11.0pt;\ncolor:black'> <i>default = 1</i></span></p>\n\n<p class=MsoNormal><i><span lang=EN-GB style='font-size:11.0pt;color:black'>Set\nto 1 to allow the AirPlay renderer to be managed be sq2r. An LMS device will be\ncreated for each renderer whose mode is above 0. Set to 0 to ignore the\nrenderer.&nbsp; It may be better to keep a list of all known renderers in the\nconfiguration and disable those you don't want to use, so that you have a list\nof the uuids should you ever need them.</span></i></p>\n\n<p class=MsoNormal><span lang=EN-GB style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span lang=FR style='font-size:11.0pt;color:black'>&lt;/device&gt;</span></b></p>\n\n<p class=MsoNormal><span lang=FR style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><i><span lang=FR style='font-size:11.0pt;color:black'>next\ndevice …</span></i></p>\n\n<p class=MsoNormal><b><span lang=FR style='font-size:11.0pt;color:black'>&lt;device&gt;</span></b></p>\n\n<p class=MsoNormal><i><span lang=FR style='font-size:11.0pt;color:black'>…</span></i></p>\n\n<p class=MsoNormal><b><span lang=FR style='font-size:11.0pt;color:black'>&lt;/device&gt;</span></b></p>\n\n<p class=MsoNormal><span lang=FR style='font-size:11.0pt;color:black'>&nbsp;</span></p>\n\n<p class=MsoNormal><b><span style='font-size:11.0pt;color:black'>&lt;/squeeze2raop&gt;</span></b></p>\n\n<span style='font-size:12.0pt;font-family:\"Times New Roman\",serif;color:#00000A'><br\nclear=all style='page-break-before:always'>\n</span>\n\n<p class=MsoNormal><span style='font-size:14.0pt;font-family:\"Liberation Sans\"'>&nbsp;</span></p>\n\n<h2 style='margin-top:12.0pt;margin-right:0cm;margin-bottom:6.0pt;margin-left:\n28.8pt;text-indent:-28.8pt;page-break-after:avoid;background:white'><span\nstyle='font-size:14.0pt;font-family:\"Liberation Sans\"'>5.2</span><span\nstyle='font-size:7.0pt'>&nbsp;&nbsp;&nbsp; </span><span style='font-size:14.0pt;\nfont-family:\"Liberation Sans\"'>Example Configuration File</span></h2>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;?xml version=&quot;1.0&quot;?&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;squeeze2raop&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;interface&gt;?&lt;/interface&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;slimproto_log&gt;info&lt;/slimproto_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;stream_log&gt;warn&lt;/stream_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;output_log&gt;info&lt;/output_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;decode_log&gt;warn&lt;/decode_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;main_log&gt;info&lt;/main_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;slimmain_log&gt;info&lt;/slimmain_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;raop_log&gt;info&lt;/raop_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;util_log&gt;info&lt;/util_log&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;log_limit&gt;-1&lt;/log_limit&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;common&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;streambuf_size&gt;2097152&lt;/streambuf_size&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;output_size&gt;1764000&lt;/output_size&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;enabled&gt;1&lt;/enabled&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span lang=EN-CA style='font-size:10.0pt;color:black'>&lt;codecs&gt;ogf,flc,wav,pcm,aif,aac,ogg,ops,mp3&lt;/codecs&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;sample_rate&gt;96000&lt;/sample_rate&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;resample&gt;1&lt;/resample&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;resample_options&gt;&lt;/resample_options&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;send_metadata&gt;0&lt;/send_metadata&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;send_coverart&gt;0&lt;/send_coverart&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;auto_play&gt;0&lt;/auto_play&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;idle_timeout&gt;30&lt;/idle_timeout&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;encryption&gt;0&lt;/encryption&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;alac_encode&gt;0&lt;/alac_encode&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;read_ahead&gt;1500&lt;/read_ahead&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;server&gt;?&lt;/server&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;player_volume&gt;-1&lt;/player_volume&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;volume_feedback&gt;1&lt;/volume_feedback&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;volume_mode&gt;2&lt;/volume_mode&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;volume_mapping&gt;-30:1,\n-15:50, 0:100&lt;/volume_mapping&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;mute_on_pause&gt;1&lt;/mute_on_pause&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;volume_trigger&gt;0&lt;/volume_trigger&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;/common&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;device&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;udn&gt;000678110596\@marantz\nNR1603._raop._tcp.local&lt;/udn&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;name&gt;Marantz-NR1603\n(airplay)&lt;/name&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;friendly_name&gt;marantz-NR1603&lt;/friendly_name&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;enabled&gt;1&lt;/enabled&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;send_metadata&gt;1&lt;/send_metadata&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;send_coverart&gt;1&lt;/send_coverart&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;server&gt;192.168.2.10&lt;/server&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;volume_mapping&gt;-30:1,\n-25.125:20, -20.125:40, -17.625:50, -10.5:60, -3:70, 0:80,\n0:100&lt;/volume_mapping&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;text-indent:\n35.4pt'><span style='font-size:10.0pt;color:black'>&lt;credentials&gt;124569890809767564654564ABC7D6\@192.179.0.1:7000&lt;/credentials&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;/device&gt;</span></p>\n\n<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt'><span\nstyle='font-size:10.0pt;color:black'>&lt;/squeeze2raop&gt;</span></p>\n\n</div>\n\n</body>\n\n</html>\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
