#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.21
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1579010558',
        'name' => 'plugins/Spotty/settings/auth-header.html',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
#line 47 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    if ($stash->get('useExtJS')) {
#line 34 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    
    # CAPTURE
    $stash->set('extJsScripts', do {
        my $output = '';
    $output .=  "\n	<script TYPE=\"text/javascript\">\n		Ext.onReady(function() {\n			// check whether credentials have been saved\n			new Ext.util.TaskRunner().start({\n				run: function() {\n					Ext.Ajax.request({\n						url: '/plugins/Spotty/settings/hasCredentials";
#line 8 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    if ($stash->get('accountId')) {
#line 8 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    $output .=  '?accountId='  . $stash->get('accountId');
    }
    
    $output .=  "',\n						success: function(response, options){\n							response = Ext.util.JSON.decode(response.responseText);\n\n							if (response.hasCredentials)\n								window.location.href = 'basic.html';\n						}\n					});\n				},\n				interval: 2000\n			});\n		});\n	</script>\n	<style>\n	<!--\n		div.spotty-instructions {\n			margin: 10px;\n			line-height: 150%;\n		}\n\n		ol.spotty {\n			list-style-type: decimal;\n			list-style-position: inside;\n		}\n	-->\n	</style>\n";
        $output;
    });
    
    }
    else {
    $output .=  "\n	<script TYPE=\"text/javascript\" language=\"JavaScript\">\n		window.setInterval(function () {\n			new Ajax.Request('/plugins/Spotty/settings/hasCredentials";
#line 37 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    if ($stash->get('accountId')) {
#line 37 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    $output .=  '?accountId='  . $stash->get('accountId');
    }
    
    $output .=  "', {\n				onSuccess: function(response) {\n					response = response.responseText.evalJSON();\n\n					if (response.hasCredentials)\n						window.location.href = 'basic.html';\n				}\n			});\n		}, 2000);\n	</script>\n";
    }
    
    $output .=  "\n";
#line 48 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    $output .=  $context->process('settings/header.html');
    $output .=  "\n\n	";
#line 53 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    if ($stash->get('helperMissing')) {
#line 53 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    
    # WRAPPER
    $output .=  do {
        my $output = '';
    $output .=  "\n		<div style=\"color: red\">";
#line 51 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('string')
                  || $context->throw($context->error);
    
    $output .=  'PLUGIN_SPOTTY_HELPER_MISSING_HELP';
        
        &$_tt_filter($output);
    };
    
    $output .=  "<br/>\n		";
#line 52 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    if ($stash->get('helperMissing') eq 1) {
#line 52 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    $output .=  '';
    }
    else {
#line 52 "/config/cache/InstalledPlugins/Plugins/Spotty/HTML/EN/plugins/Spotty/settings/auth-header.html"
    $output .=  $stash->get('helperMissing');
    }
    
    $output .=  "</div>\n	";
        $context->include('setting', { 'title' => 'PLUGIN_SPOTTY_HELPER_MISSING', 'desc' => '', 'content', $output }); 
    };
    
    }
    
    $output .=  "\n";
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
